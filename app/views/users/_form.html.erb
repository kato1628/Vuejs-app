<%= javascript_tag do %>
  window.user = <%= raw @user.to_json %>
<% end %>
<div id="edit_user">
  <%= form_for(user) do |f| %>
    <% if user.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(user.errors.count, "error") %> prohibited this user from being saved:</h2>

        <ul>
        <% user.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
        </ul>
      </div>
    <% end %>

    <div class="field">
      <label for="user_name">name</label>
      <input type="text" v-model="user.name" name="user[name]" id="user_name" value="{{user.name}}">
    </div>

    <div class="field">
      <label for="user_score">score</label>
      <input type="number" v-model="user.score" name="user[score]" id="user_score" value="{{user.score}}">
    </div>

    <div class="actions">
      <%= f.submit %>
    </div>
  <% end %>
</div>

<script>
  var user = new Vue({
    el: '#edit_user',
    data: {
      user: ""
    },
    mounted: function() {
      this.user = user;
    }
  })
</script>
